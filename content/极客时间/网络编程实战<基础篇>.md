---
title: "网络编程实战 <基础篇>"
layout: page
date: 2020-05-02 15:57
collection: "网络编程实战——基础篇"
author: "Robin.X.Yuan"
tag: network programming
---
[TOC]

# 追古溯源：TCP/IP和Linux是如何改变世界的？ #

## TCP/IP 发展历史 ##

### OSI & TCP/IP ###

![OSI-TCP/IP](/wiki/images/geektime/network-programming/cb34e0e3b7769498ea703fe6231201b4.png)

## UNIX 操作系统发展历史 ##

![Unix History](/wiki/images/geektime/network-programming/a68c3b9b267574ea2f309ed6a4e0de0f.png)

UNIX 的各种版本和变体都起源于在 PDP-11 系统上运行的 UNIX 分时系统第 6 版（1976 年）和第 7 版（1979 年），它们通常分别被称为 V6 和 V7。这两个版本是在贝尔实验室以外首先得到广泛应用的 UNIX 系统。

![Unix History](/wiki/images/geektime/network-programming/df2b6d77a0a46e3d9b068f6d517a15bb.png)

### SVR 4 ###

SVR4（UNIX System V Release 4）是 AT&T 的 UNIX 系统实验室的一个商业产品。它基本上是一个操作系统的大杂烩，这个操作系统之所以重要，是因为它是 System III/V 分支各家商业化 UNIX 操作系统的“先祖”，包括 IBM 的 AIX、HP 的 HP-UX、SGI 的 IRIX、Sun（后被 Oracle 收购）的 Solaris 等等。

### Solaris ###

Solaris 是由 Sun Microsystems（现为 Oracle）开发的 UNIX 系统版本，它基于 SVR4，并且在商业上获得了不俗的成绩。2005 年，Sun Microsystems 开源了 Solaris 操作系统的大部分源代码，作为 OpenSolaris 开放源代码操作系统的一部分。相对于 Linux，这个开源操作系统的进展比较一般。

### BSD ###

BSD（Berkeley Software Distribution）是由加州大学伯克利分校的计算机系统研究组（CSRG）研究开发和分发的。4.2BSD 于 1983 年问世，其中就包括了网络编程套接口相关的设计和实现，4.3BSD 则于 1986 年发布，正是由于 TCP/IP 和 BSD 操作系统的完美拍档，才有了 TCP/IP 逐渐成为事实标准的这一历史进程。

### macOS X ###

macOS 和 Linux 都是 UNIX 基础上发展起来的，或者说，它们各自就是一个类 UNIX 的系统。

macOS 系统又被称为 Darwin，它已被验证过就是一个 UNIX 操作系统。如果打开 Mac 系统的 socket.h 头文件定义，你会明显看到 macOS 系统和 BSD 千丝万缕的联系，说明这就是从 BSD 系统中移植到 macOS 系统来的。

## Linux ##

### UNIX 的出现和发展 ###

Linux 操作系统刚出世的时候， 4.2/4.3 BSD 已经出现快 10 年了，这样就为 Linux 系统的发展提供了一个方向，而且 Linux 的开发语言是 C 语言，C 语言也是在 UNIX 开发过程中发明的一种语言。

### POSIX 标准 ###

POSIX（Portable Operating System Interface for Computing Systems）标准基于现有的 UNIX 实践和经验，描述了操作系统的调用服务接口。有了这么一个标准，Linux 完全可以去实现并兼容它，这从最早的 Linux 内核头文件的注释可见一斑。

```c
# ifndef _UNISTD_H

# define _UNISTD_H


/* ok, this may be a joke, but I'm working on it */

# define _POSIX_VERSION  198808L


# define _POSIX_CHOWN_RESTRICTED /* only root can do a chown (I think..) */

/* #define _POSIX_NO_TRUNC*/ /* pathname truncation (but see in kernel) */

# define _POSIX_VDISABLE '\0' /* character to disable things like ^C */

/*#define _POSIX_SAVED_IDS */ /* we'll get to this yet */

/*#define _POSIX_JOB_CONTROL */ /* we aren't there quite yet. Soon hopefully */
```

### Minix 操作系统 ###

Minix 操作系统在早期是 Linux 发展的重要指引。这个操作系统是由一个叫做安迪·塔能鲍姆（Andy Tanenbaum）的教授开发的，他的本意是用来做 UNIX 教学的。Linux 早期从 Minix 中借鉴了一些思路，包括最早的文件系统等。

### GNU ###

Linux 操作系统得以发展还有一个非常重要的因素，那就是 GNU（GNU’s NOT UNIX），它的创始人是理查·斯托曼（Richard Stallman）。斯托曼的想法是设计一个完全自由的软件系统，用户可以自由使用，自由修改这些软件系统。

在这个设想宏大的 GNU 计划里，包括了操作系统内核、编辑器、shell、编译器、链接器和汇编器等等。

斯托曼独自开发出了编辑器 Emacs，继而组织和成立了自由软件基金会（the Free Software Foundation - FSF）。GNU 在自由软件基金会统一组织下，相继推出了编译器 GCC、调试器 GDB、Bash Shell 等运行于用户空间的程序。正是这些软件为 Linux 操作系统的开发创造了一个合适的环境，比如编译器 GCC、Bash Shell 就是 Linux 能够诞生的基础之一。

1990 年，自由软件基金会开始正式发展自己的操作系统 Hurd，作为 GNU 项目中的操作系统。不过这个项目再三耽搁，1991 年，Linux 出现，1993 年，FreeBSD 发布，这样 GNU 的开发者开始转向于 Linux 或 FreeBSD，其中，Linux 成为更常见的 GNU 软件运行平台。

斯托曼主张，Linux 操作系统使用了许多 GNU 软件，正式名应为 GNU/Linux，但没有得到 Linux 社群的一致认同，形成著名的 GNU/Linux 命名争议。

## 操作系统对 TCP/IP 的支持 ##

![OSI-TCP/IP](/wiki/images/geektime/network-programming/0f783e74927d70794421cf5983f22ae1.png)

# 网络编程模型：认识客户端-服务器网络模型的基本概念 #


